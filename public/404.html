<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <title>页面跳转中...</title>
    <script>
      // GitHub Pages SPA 重定向方案
      // 将当前路径编码为 query string，跳转到首页
      // 首页的 index.html 会读取并还原路由
      var segmentCount = 0; // 若部署在子目录（如 /repo-name/），改为 1
      var location = window.location;
      location.replace(
        location.protocol +
          '//' +
          location.hostname +
          (location.port ? ':' + location.port : '') +
          location.pathname
            .split('/')
            .slice(0, 1 + segmentCount)
            .join('/') +
          '/?p=/' +
          location.pathname
            .slice(1)
            .split('/')
            .slice(segmentCount)
            .join('/')
            .replace(/&/g, '~and~') +
          (location.search
            ? '&q=' + location.search.slice(1).replace(/&/g, '~and~')
            : '') +
          location.hash
      );
    </script>
  </head>
  <body>
    <p>页面跳转中，请稍候...</p>
  </body>
</html>
